#! /usr/bin/env ruby

require "plzero"

token_provider = PLZero::Scanner::TokenProvider.new

puts "Running syntatic analysis"
puts "-------------------------"

token_provider.on_error do |error|
  puts "ERROR: #{error}"
end

tokens = []
while token = token_provider.fetch
  tokens << "Token #{token[:id].upcase} '#{token[:value]}' on line '#{token[:line].chomp}'"
end

puts ""
puts "Recognized tokens: "
tokens.each do |token|
  puts token
end

