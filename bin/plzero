#! /usr/bin/env ruby

require "rubygems"
require "plzero"

scanner = PLZero::Scanner::Scanner.new

tokens = []

scanner.on_token do |token|
  tokens << "Token #{token[:id].upcase} '#{token[:value]}' on line '#{token[:line].chomp}'"
end

scanner.on_error do |error|
  puts "ERROR: #{error}"
  puts ""
end

puts "Analyzing"

ARGF.each do |line|
  scanner.push line
end

scanner.eof

puts "Recognized tokens: "
tokens.each do |token|
  puts token
end

